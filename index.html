<!DOCTYPE html>
<!--
I HOSTED THIS ON GITHUB TO GET THE SIGN IN PAGE WORKING:
        Link: https://dwang123.github.io/Memory-Game/#
        -->
<!--
    What happened to the functions I created yesterday? I laid down some basework and saved the changes periodically, but now they aren't there. *redone - but still curious*
    Good-looking UI btw
-->
<html lang="en">
    <head>
      <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="">
    <meta name="author" content="">
      
        <title> Memory Game - Derek, Derrick, Matthias</title>
      <!-- Bootstrap Core CSS -->
    <link href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css" rel="stylesheet">

    <!-- Custom CSS -->
        <style>
  div#memory_board{
  /*Background color can change eventually; blue is just a test*/
	background:blue;
	border:#999 1px solid;
	width:450px;
	height:450px;
	padding:24px;
	margin:80px auto;
}
/*Applies to each tile*/
div#memory_board > div{
	border:#000 1px solid;
	min-width:70px;
	height:70px;
	float:left;
	margin:15px;
	/*padding:27px;*/
	font-size:25px;
	text-align:center;
	line-height:70px ;
}
/*shifts sign in button into place*/
.navbar-brand{
  padding:5px;
}
#totalFlips{
  color: white;
}
</style>
    </head>
    
    <body>
      
        <nav class="navbar navbar-inverse navbar-fixed-top" role="navigation">
        <div class="container">
            <!-- Brand and toggle get grouped for better mobile display -->
            <div class="navbar-header">
                <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1">
                    <span class="sr-only">Toggle navigation</span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                </button>
                <!--This is your sign in button-->
                <a class="navbar-brand" href="#" onclick="signIn()"><img src="http://careers.ohio.gov/portals/0/images/person-button.png" width="40px" height="40px" padding="10px"></a>
            </div>
            <!-- Collect the nav links, forms, and other content for toggling -->
            <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
                <ul class="nav navbar-nav">
                    <li id="totalFlips">
                        Cards Flipped: 0
                    </li>
                    
                    <li>
                        <a href="#">Pick Game</a>
                    </li>
                    <li>
                        <a href="#">Services</a>
                    </li>
                    <li>
                        <a href="#">Contact</a>
                    </li>
                </ul>
            </div>
            <!-- /.navbar-collapse -->
        </div>
        <!-- /.container -->
    </nav>

    <!-- Full Page Image Background Carousel Header -->
    <header id="myCarousel" class="carousel slide">
        <!-- Indicators -->
        <ol class="carousel-indicators">
            <li data-target="#myCarousel" data-slide-to="0" class="active"></li>
            <li data-target="#myCarousel" data-slide-to="1"></li>
            <li data-target="#myCarousel" data-slide-to="2"></li>
        </ol>

        <!-- Wrapper for Slides -->
        <!-- Hey: what are these errors? I'm sure you know what you're doing, but I'm still curious -->
        <div class="carousel-inner">
            <div class="item active">
                <!-- Set the first background image using inline CSS below. -->
                <div class="fill" style="background-image:url('http://placehold.it/1900x1080&text=Slide One');"></div>
                <div class="carousel-caption">
                    <h2>Caption 1</h2>
                </div>
            </div>
            <div class="item">
                <!-- Set the second background image using inline CSS below. -->
                <div class="fill" style="background-image:url('http://placehold.it/1900x1080&text=Slide Two');"></div>
                <div class="carousel-caption">
                    <h2>Caption 2</h2>
                </div>
            </div>
            <div class="item">
                <!-- Set the third background image using inline CSS below. -->
                <div class="fill" style="background-image:url('http://placehold.it/1900x1080&text=Slide Three');"></div>
                <div class="carousel-caption">
                    <h2>Caption 3</h2>
                </div>
            </div>
        </div>

        <!-- Controls -->
        <a class="left carousel-control" href="#myCarousel" data-slide="prev">
            <span class="icon-prev"></span>
        </a>
        <a class="right carousel-control" href="#myCarousel" data-slide="next">
            <span class="icon-next"></span>
        </a>

    </header>

      <!--4X4 Tile Board-->
      <div id ="test"></div>
    <div class="container">
        <div class="row">
            <div class="col-lg-12">
              <div id="memory_board">
                <div class="cards" id="card0_0" style="width: 24px;">1</div>
                <div class="cards" id="card0_1" style="width:24px;">2</div>
                <div class="cards" id="card0_2" style="width: 24px;">3</div>
                <div class="cards" id="card0_3" style="width: 24px;">4</div>
                <div class="cards" id="card1_0" style="width: 24px;">5</div>
                <div class="cards" id="card1_1" style="width: 24px;">6</div>
                <div class="cards" id="card1_2" style="width: 24px;">7</div>
                <div class="cards" id="card1_3" style="width: 24px;">8</div>
                <div class="cards" id="card2_0" style="width: 24px;">9</div>
                <div class="cards" id="card2_1" style="width: 24px;">10</div>
                <div class="cards" id="card2_2" style="width: 24px;">11</div>
                <div class="cards" id="card2_3" style="width: 24px;">12</div>
                <div class="cards" id="card3_0" style="width: 24px;">13</div>
                <div class="cards" id="card3_1" style="width:24px;">14</div>
                <div class="cards" id="card3_2" style="width: 24px;">15</div>
                <div class="cards" id="card3_3" style="width: 24px;">16</div>
              </div>
           </div>
          </div>
          </div>
        <script>
            document.getElementById("card0_0").onclick = function() {flipDat("0_0")};
            document.getElementById("card0_1").onclick = function() {flipDat("0_1")};
            document.getElementById("card0_2").onclick = function() {flipDat("0_2")};
            document.getElementById("card0_3").onclick = function() {flipDat("0_3")};
            document.getElementById("card1_0").onclick = function() {flipDat("1_0")};
            document.getElementById("card1_1").onclick = function() {flipDat("1_1")};
            document.getElementById("card1_2").onclick = function() {flipDat("1_2")};
            document.getElementById("card1_3").onclick = function() {flipDat("1_3")};
            document.getElementById("card2_0").onclick = function() {flipDat("2_0")};
            document.getElementById("card2_1").onclick = function() {flipDat("2_1")};
            document.getElementById("card2_2").onclick = function() {flipDat("2_2")};
            document.getElementById("card2_3").onclick = function() {flipDat("2_3")};
            document.getElementById("card3_0").onclick = function() {flipDat("3_0")};
            document.getElementById("card3_1").onclick = function() {flipDat("3_1")};
            document.getElementById("card3_2").onclick = function() {flipDat("3_2")};
            document.getElementById("card3_3").onclick = function() {flipDat("3_3")};
            console.log("qwertyuiop...");
            //This formatting could be better: Like the order of function and such (my fault, but it's a good job if frustrated and can't figure stuff out)
            //How do you choose the card that the user clicked? Use ids... maybe screw user-chosen board size?
            var cardsFlipped = 0;
            var allCardsFlipped = 0;
            var cardsAreEqual = 0;
            var lastCardFlipped = -1;
            var lastCardFlippedID = "null";
            var boardObject = {
            };
            function getRandomInt(min, max) {
              return Math.floor(Math.random() * (max + 1 - min)) + min; //Since Math.random() goes between 0 and 1, I
                                                                       //edit it to go between min and max, inclusive.
            }

            //pickGame();
            setLevel1(); //call this in pickgame function?
            //Call this with a button: we'll have two buttons to select which
            //game we play.
            
            //I tried to make button but function is not defined... Help? Not very good with this
            
            //We (Matthias and Derrick) were planning on having the memory game
            //where you get a sequence of cards in order and have to repeat
            //the selection, as well as the normal pair-up game.
            
                
            
            
            //Functions for RegularMemory
            
            function setLevel1() {
                
            var numbArray = [0,1,2,3,4,5,6,7,8,9,10,11,12];
            var cardArray = [];
            
            for(var i = 0; i < 4;i++){
              for(var j = 0; j < 4; j++){
                cardArray.push([i,j]);
              }
            }
           
            var randInt1 = 0;
            var randInt2 = 0;
            var randInt3 = 0; //Keeps me from defining variables in a loop.
            
            for(var k = 0; k < 8;k++){
              
              randInt3 = getRandomInt(0,numbArray.length - 1);
              
              
              randInt1 = getRandomInt(0,cardArray.length - 1);
              boardObject["card" + cardArray[randInt1][0] + "_" + cardArray[randInt1][1]] = [numbArray[randInt3] + 1, 0];
              cardArray.splice(randInt1,1);
              
              randInt2 = getRandomInt(0,cardArray.length - 1);
              boardObject["card" + cardArray[randInt2][0] + "_" + cardArray[randInt2][1]] = [numbArray[randInt3] + 1, 0];
              cardArray.splice(randInt2,1); //These two pick out two random cards from cardArray, then removes them from said array.
              
              numbArray.splice(randInt3,1); //This picks a number from the numbArray and removes it afterward.
            }
            console.log(boardObject.card0_0);
            console.log(boardObject.card0_1);
            console.log(boardObject.card0_2);
            console.log(boardObject.card0_3);
            console.log(boardObject.card1_0);
            console.log(boardObject.card1_1);
            console.log(boardObject.card1_2);
            console.log(boardObject.card1_3);
            console.log(boardObject.card2_0);
            console.log(boardObject.card2_1);
            console.log(boardObject.card2_2);
            console.log(boardObject.card2_3);
            console.log(boardObject.card3_0);
            console.log(boardObject.card3_1);
            console.log(boardObject.card3_2);
            console.log(boardObject.card3_3);
            
            //Hopefully the board should be set up now, with each attribute (card2_3) being an array of a random number
            //and whether it was flipped or not.
            }
            
            function flipDat(CardId) {
                //I've commented out a possible method to choosing the card that the user clicked
                var yourCard = "card" + CardId;
                console.log("doesItWork");
                //CardId is found above in the individual divs
            if(boardObject[yourCard][1]==1){
              //Set the card back to the default image
              boardObject[yourCard][1] = 0;
              lastCardFlipped = -1;
            } else {
            boardObject[yourCard][1] = 1;
            if (boardObject[yourCard][0] == lastCardFlipped){
              cardsAreEqual = 1;
            } else {
              cardsAreEqual = 0;
              lastCardFlipped = boardObject[yourCard][0]; //This should detect if the current card is equivalent
                                                                      //to the previous one
            }
            if (boardObject[yourCard][0] == 13){
              document.getElementById(yourCard).style.backgroundImage="url(https://gambit1204.files.wordpress.com/2010/07/ace_spades1.jpg)"; //Ace
            }else if (boardObject[yourCard][0] == 1){
              document.getElementById(yourCard).style.backgroundImage="url(https://allaboutcards.files.wordpress.com/2009/06/king-clubs.png)"; //King
            }else if (boardObject[yourCard][0] == 2){
              document.getElementById(yourCard).style.backgroundImage="url(http://www.madore.org/~david/images/cards/english/queen-clubs.png)"; //Queen
            }else if (boardObject[yourCard][0] == 3){
              document.getElementById(yourCard).style.backgroundImage="url(https://t3.ftcdn.net/jpg/00/03/92/76/500_F_3927639_jF76K898642H7Zl2QIRvTlqKFT9G4qgd.jpg)"; //Jack
            }else if (boardObject[yourCard][0] == 4){
              document.getElementById(yourCard).style.backgroundImage="url(https://upload.wikimedia.org/wikipedia/commons/thumb/3/3e/Playing_card_club_10.svg/819px-Playing_card_club_10.svg.png)"; //10
            }else if (boardObject[yourCard][0] == 5){
              document.getElementById(yourCard).style.backgroundImage="url(https://upload.wikimedia.org/wikipedia/commons/thumb/2/27/Playing_card_club_9.svg/614px-Playing_card_club_9.svg.png)"; //9
            }else if (boardObject[yourCard][0] == 6){
              document.getElementById(yourCard).style.backgroundImage="url(https://upload.wikimedia.org/wikipedia/commons/thumb/5/50/Playing_card_heart_8.svg/819px-Playing_card_heart_8.svg.png)"; //8
            }else if (boardObject[yourCard][0] == 7){
              document.getElementById(yourCard).style.backgroundImage="url(https://upload.wikimedia.org/wikipedia/commons/thumb/e/e6/Playing_card_diamond_7.svg/819px-Playing_card_diamond_7.svg.png)"; //7
            }else if (boardObject[yourCard][0] == 8){
              document.getElementById(yourCard).style.backgroundImage="url(https://upload.wikimedia.org/wikipedia/commons/thumb/d/d2/Playing_card_spade_6.svg/819px-Playing_card_spade_6.svg.png)"; //6
            }else if (boardObject[yourCard][0] == 9){
              document.getElementById(yourCard).style.backgroundImage="url(http://spiritualnutrition.org/wp-content/uploads/2011/07/Diamonds-5.png)"; //5
            }else if (boardObject[yourCard][0] == 10){
              document.getElementById(yourCard).style.backgroundImage="url(https://upload.wikimedia.org/wikipedia/commons/thumb/3/3d/Playing_card_club_4.svg/819px-Playing_card_club_4.svg.png)"; //4
            }else if (boardObject[yourCard][0] == 11){
              document.getElementById(yourCard).style.backgroundImage="url(https://upload.wikimedia.org/wikipedia/commons/thumb/6/6b/Playing_card_club_3.svg/819px-Playing_card_club_3.svg.png)"; //3
            }else if (boardObject[yourCard][0] == 12){
              document.getElementById(yourCard).style.backgroundImage="url(https://upload.wikimedia.org/wikipedia/commons/thumb/d/d5/Playing_card_heart_2.svg/819px-Playing_card_heart_2.svg.png)"; //2
            }

            
            //Set attribute of card from 0 to 1 to show that it's flipped
            
            cardsFlipped = cardsFlipped + 1; //added some semicolons
            document.getElementById("totalFlips").innerHTML = "Total Cards Flipped: " + cardsFlipped;
            if (cardsFlipped % 2 === 0) {
            checkMatch(lastCardFlippedID,yourCard);
            lastCardFlippedID = "null";
            } else {
              lastCardFlippedID = yourCard;
            }
          }
        }
        function checkMatch(card1,card2) {
            if (cardsAreEqual == 1) {
                clearCards(card1,card2);
            }
            else {
                flipCardsToBack(card1,card2);
            }
        }
            function clearCards(card1,card2) {
            document.getElementById(card1).setAttribute("size",0);
            document.getElementById(card2).setAttribute("size",0);
           
            
            if(allCardsFlipped === true){
            winScreen();
            }
            }
            //added some close curly braces here
            //Functions for OrderMemory Game
            
            function setLevel2(){
                alert("You will be shown 5 cards. Memorize them and be able to recite them to win!");
                showCards();
                flipCardToBack();
                prompt("What were the cards? Only put the number of the card, with Aces as 1 and face cards as 11, 12, and 13 (e.g. Jack would be 11, King 13) Separate your #s with commas please!");
                checkWin();s
            }
            function showCards(){
                //set card's attribute from 0 to 1 to turn it over
            }
        //Universal Functions
        function checkWin(){
            
        
        }
        
        function flipCardsToBack(card1,card2) {
            boardObject[card1][1]=0;
            boardObject[card2][1]=0;
            
        }
        
        function winScreen() {
            alert("You Won! :D");
            //reset stuff
            cardsFlipped = 0;
            allCardsFlipped = 0;
            cardsAreEqual = 0;
            lastCardFlipped = -1;
        }
        
</script>
<!--Connecting with Firebase and Google Log in: Don't touch or change this!-->
<script src="https://www.gstatic.com/firebasejs/4.1.1/firebase.js"></script>
<script>
  // Initialize Firebase
  var config = {
    apiKey: "AIzaSyD5tZcrTbT_EZlpmGwAVExSZYgWUkzRec4",
    authDomain: "database-test-980aa.firebaseapp.com",
    databaseURL: "https://database-test-980aa.firebaseio.com",
    projectId: "database-test-980aa",
    storageBucket: "database-test-980aa.appspot.com",
    messagingSenderId: "802971448923"
  };
  firebase.initializeApp(config);
</script>
<script>
  //This is to test the database is connected.
  var provider = new firebase.auth.GoogleAuthProvider();
  function signIn(){
    // Needs to host on github in order to work
    console.log("sign-in popup")
    firebase.auth().signInWithPopup(provider).then(function(result) {
    // This gives you a Google Access Token. You can use it to access the Google API.
    var token = result.credential.accessToken;
    // The signed-in user info.
    var user = result.user;
    // ...
}).catch(function(error) {
  // Handle Errors here.
  var errorCode = error.code;
  var errorMessage = error.message;
  // The email of the user's account used.
  var email = error.email;
  // The firebase.auth.AuthCredential type that was used.
  var credential = error.credential;
  // ...
});
  }
  
</script>
    </body>
</html>
